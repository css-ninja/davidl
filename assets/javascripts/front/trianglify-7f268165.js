!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Trianglify=t()}}(function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({"./lib/trianglify.js":[function(t,e){function n(t){function e(t,e,n){return(t-e[0])*(n[1]-n[0])/(e[1]-e[0])+n[0]}function n(n,r){for(var i=[],o=-y;n+y>o;o+=t.cell_size)for(var a=-b;r+b>a;a+=t.cell_size){var s=o+t.cell_size/2+e(rand(),[0,1],[-x,x]),u=a+t.cell_size/2+e(rand(),[0,1],[-x,x]);i.push([s,u].map(Math.floor))}return i}function a(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3}}function c(){if(t.palette instanceof Array)return t.palette[Math.floor(rand()*t.palette.length)];var e=Object.keys(t.palette);return t.palette[e[Math.floor(rand()*e.length)]]}function l(t,e){var n={};for(var r in t)n[r]=t[r];for(r in e){if(!t.hasOwnProperty(r))throw new Error(r+" is not a configuration option for Trianglify. Check your spelling?");n[r]=e[r]}return n}if(t=l(u,t),rand=i(t.seed),"random"===t.x_colors&&(t.x_colors=c()),"random"===t.y_colors&&(t.y_colors=c()),"match_x"===t.y_colors&&(t.y_colors=t.x_colors),!(t.width>0&&t.height>0))throw new Error("Width and height must be numbers greater than 0");if(t.cell_size<2)throw new Error("Cell size must be greater than 2.");var f;if(t.color_function)f=function(e,n){return o(t.color_function(e,n))};else{var d=o.scale(t.x_colors).mode(t.color_space),h=o.scale(t.y_colors).mode(t.color_space);f=function(e,n){return o.interpolate(d(e),h(n),.5,t.color_space)}}for(var p=t.width,g=t.height,m=Math.floor((p+4*t.cell_size)/t.cell_size),v=Math.floor((g+4*t.cell_size)/t.cell_size),y=(m*t.cell_size-p)/2,b=(v*t.cell_size-g)/2,x=t.cell_size*t.variance/2,w=function(t){return e(t,[-y,p+y],[0,1])},k=function(t){return e(t,[-b,g+b],[0,1])},C=n(p,g),_=r.triangulate(C),S=[],j=function(t){return C[t]},T=0;T<_.length;T+=3){var M=[_[T],_[T+1],_[T+2]].map(j),A=a(M),N=f(w(A.x),k(A.y)).hex();S.push([N,M])}return s(S,t)}var r=t("delaunay-fast"),i=t("seedrandom"),o=t("chroma-js"),a=t("./colorbrewer"),s=t("./pattern"),u={width:600,height:400,cell_size:75,variance:.75,seed:null,x_colors:"random",y_colors:"match_x",palette:a,color_space:"lab",color_function:null,stroke_width:1.51};n.colorbrewer=a,n.defaults=u,e.exports=n},{"./colorbrewer":"/Users/qrohlf/Code/trianglify/lib/colorbrewer.js","./pattern":"/Users/qrohlf/Code/trianglify/lib/pattern.js","chroma-js":"/Users/qrohlf/Code/trianglify/node_modules/chroma-js/chroma.js","delaunay-fast":"/Users/qrohlf/Code/trianglify/node_modules/delaunay-fast/delaunay.js",seedrandom:"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/index.js"}],"/Users/qrohlf/Code/trianglify/lib/colorbrewer.js":[function(t,e){e.exports={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},{}],"/Users/qrohlf/Code/trianglify/lib/pattern.js":[function(t,e){(function(n){function r(e,r){function o(){var t=i.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("width",r.width),t.setAttribute("height",r.height),e.forEach(function(e){var n=i.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M"+e[1].join("L")+"Z"),n.setAttribute("fill",e[0]),n.setAttribute("stroke",e[0]),n.setAttribute("stroke-width",r.stroke_width),t.appendChild(n)}),t}function a(o){if("undefined"!=typeof n)try{t("canvas")}catch(a){throw Error("The optional node-canvas dependency is needed for Trianglify to render using canvas in node.")}return o||(o=i.createElement("canvas")),o.setAttribute("width",r.width),o.setAttribute("height",r.height),ctx=o.getContext("2d"),ctx.canvas.width=r.width,ctx.canvas.height=r.height,e.forEach(function(t){ctx.fillStyle=ctx.strokeStyle=t[0],ctx.lineWidth=r.stroke_width,ctx.beginPath(),ctx.moveTo.apply(ctx,t[1][0]),ctx.lineTo.apply(ctx,t[1][1]),ctx.lineTo.apply(ctx,t[1][2]),ctx.fill(),ctx.stroke()}),o}function s(){return a().toDataURL("image/png")}return{polys:e,opts:r,svg:o,canvas:a,png:s}}var i="undefined"!=typeof document?document:t("jsdom").jsdom("<html/>");e.exports=r}).call(this,t("_process"))},{_process:"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/process/browser.js",canvas:"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js",jsdom:"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(){},{}],"/Users/qrohlf/Code/trianglify/node_modules/browserify/node_modules/process/browser.js":[function(t,e){function n(){if(!a){a=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}a=!1}}function r(){}var i=e.exports={},o=[],a=!1;i.nextTick=function(t){o.push(t),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],"/Users/qrohlf/Code/trianglify/node_modules/chroma-js/chroma.js":[function(e,n,r){(function(){var e,i,o,a,s,u,c,l,f,d,h,p,g,m,v,y,b,x,w,k,C,_,S,j,T,M,A,N,E,q,F,P,D,R,B,L,z,O,U;d=function(t,n,r,i){return new e(t,n,r,i)},"undefined"!=typeof n&&null!==n&&null!=n.exports&&(n.exports=d),"function"==typeof t&&t.amd?t([],function(){return d}):(R="undefined"!=typeof r&&null!==r?r:this,R.chroma=d),d.color=function(t,n,r,i){return new e(t,n,r,i)},d.hsl=function(t,n,r,i){return new e(t,n,r,i,"hsl")},d.hsv=function(t,n,r,i){return new e(t,n,r,i,"hsv")},d.rgb=function(t,n,r,i){return new e(t,n,r,i,"rgb")},d.hex=function(t){return new e(t)},d.css=function(t){return new e(t)},d.lab=function(t,n,r){return new e(t,n,r,"lab")},d.lch=function(t,n,r){return new e(t,n,r,"lch")},d.hsi=function(t,n,r){return new e(t,n,r,"hsi")},d.gl=function(t,n,r,i){return new e(255*t,255*n,255*r,i,"gl")},d.interpolate=function(t,n,r,i){return null==t||null==n?"#000":("string"===B(t)&&(t=new e(t)),"string"===B(n)&&(n=new e(n)),t.interpolate(r,n,i))},d.mix=d.interpolate,d.contrast=function(t,n){var r,i;return"string"===B(t)&&(t=new e(t)),"string"===B(n)&&(n=new e(n)),r=t.luminance(),i=n.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},d.luminance=function(t){return d(t).luminance()},d._Color=e,e=function(){function t(){var t,e,n,r,i,o,a,s,u,c,l,f,d,p,g,m;for(i=this,n=[],c=0,l=arguments.length;l>c;c++)e=arguments[c],null!=e&&n.push(e);if(0===n.length)f=[255,0,255,1,"rgb"],a=f[0],s=f[1],u=f[2],t=f[3],r=f[4];else if("array"===B(n[0])){if(3===n[0].length)d=n[0],a=d[0],s=d[1],u=d[2],t=1;else{if(4!==n[0].length)throw"unknown input argument";p=n[0],a=p[0],s=p[1],u=p[2],t=p[3]}r=null!=(g=n[1])?g:"rgb"}else"string"===B(n[0])?(a=n[0],r="hex"):"object"===B(n[0])?(m=n[0]._rgb,a=m[0],s=m[1],u=m[2],t=m[3],r="rgb"):n.length>=3&&(a=n[0],s=n[1],u=n[2]);3===n.length?(r="rgb",t=1):4===n.length?"string"===B(n[3])?(r=n[3],t=1):"number"===B(n[3])&&(r="rgb",t=n[3]):5===n.length&&(t=n[3],r=n[4]),null==t&&(t=1),"rgb"===r?i._rgb=[a,s,u,t]:"gl"===r?i._rgb=[255*a,255*s,255*u,t]:"hsl"===r?(i._rgb=b(a,s,u),i._rgb[3]=t):"hsv"===r?(i._rgb=x(a,s,u),i._rgb[3]=t):"hex"===r?i._rgb=v(a):"lab"===r?(i._rgb=k(a,s,u),i._rgb[3]=t):"lch"===r?(i._rgb=S(a,s,u),i._rgb[3]=t):"hsi"===r&&(i._rgb=y(a,s,u),i._rgb[3]=t),o=h(i._rgb)}return t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},t.prototype.hex=function(){return A(this._rgb)},t.prototype.toString=function(){return this.name()},t.prototype.hsl=function(){return E(this._rgb)},t.prototype.hsv=function(){return q(this._rgb)},t.prototype.lab=function(){return F(this._rgb)},t.prototype.lch=function(){return P(this._rgb)},t.prototype.hsi=function(){return N(this._rgb)},t.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},t.prototype.luminance=function(e,n){var r,i,o,a;return null==n&&(n="rgb"),arguments.length?(0===e&&(this._rgb=[0,0,0,this._rgb[3]]),1===e&&(this._rgb=[255,255,255,this._rgb[3]]),r=T(this._rgb),i=1e-7,o=20,a=function(t,r){var s,u;return u=t.interpolate(.5,r,n),s=u.luminance(),Math.abs(e-s)<i||!o--?u:s>e?a(t,u):a(u,r)},this._rgb=(r>e?a(new t("black"),this):a(this,new t("white"))).rgba(),this):T(this._rgb)},t.prototype.name=function(){var t,e;t=this.hex();for(e in d.colors)if(t===d.colors[e])return e;return t},t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.css=function(t){var e,n,r,i;return null==t&&(t="rgb"),n=this,r=n._rgb,3===t.length&&r[3]<1&&(t+="a"),"rgb"===t?t+"("+r.slice(0,3).map(Math.round).join(",")+")":"rgba"===t?t+"("+r.slice(0,3).map(Math.round).join(",")+","+r[3]+")":"hsl"===t||"hsla"===t?(e=n.hsl(),i=function(t){return Math.round(100*t)/100},e[0]=i(e[0]),e[1]=i(100*e[1])+"%",e[2]=i(100*e[2])+"%",4===t.length&&(e[3]=r[3]),t+"("+e.join(",")+")"):void 0},t.prototype.interpolate=function(e,n,r){var i,o,a,s,u,c,l,f,d,h,p,g,m,v;if(f=this,null==r&&(r="rgb"),"string"===B(n)&&(n=new t(n)),"hsl"===r||"hsv"===r||"lch"===r||"hsi"===r)"hsl"===r?(m=f.hsl(),v=n.hsl()):"hsv"===r?(m=f.hsv(),v=n.hsv()):"hsi"===r?(m=f.hsi(),v=n.hsi()):"lch"===r&&(m=f.lch(),v=n.lch()),"h"===r.substr(0,1)?(a=m[0],p=m[1],c=m[2],s=v[0],g=v[1],l=v[2]):(c=m[0],p=m[1],a=m[2],l=v[0],g=v[1],s=v[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==c&&0!==c||"hsv"===r||(h=g)):(o=a,1!==l&&0!==l||"hsv"===r||(h=p)):(i=s>a&&s-a>180?s-(a+360):a>s&&a-s>180?s+360-a:s-a,o=a+e*i),null==h&&(h=p+e*(g-p)),u=c+e*(l-c),d="h"===r.substr(0,1)?new t(o,h,u,r):new t(u,h,o,r);else if("rgb"===r)m=f._rgb,v=n._rgb,d=new t(m[0]+e*(v[0]-m[0]),m[1]+e*(v[1]-m[1]),m[2]+e*(v[2]-m[2]),r);else{if("lab"!==r)throw"color mode "+r+" is not supported";m=f.lab(),v=n.lab(),d=new t(m[0]+e*(v[0]-m[0]),m[1]+e*(v[1]-m[1]),m[2]+e*(v[2]-m[2]),r)}return d.alpha(f.alpha()+e*(n.alpha()-f.alpha())),d},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),d(e[0]*t,e[1]*t,e[2]*t,t)},t.prototype.darken=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[0]-=t,d.lch(e).alpha(n.alpha())},t.prototype.darker=function(t){return this.darken(t)},t.prototype.brighten=function(t){return null==t&&(t=20),this.darken(-t)},t.prototype.brighter=function(t){return this.brighten(t)},t.prototype.saturate=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[1]+=t,d.lch(e).alpha(n.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=20),this.saturate(-t)},t}(),h=function(t){var e;for(e in t)3>e?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},m=function(t){var e,n,r,i,o,a,s,u;if(t=t.toLowerCase(),null!=d.colors&&d.colors[t])return v(d.colors[t]);if(r=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(i=r.slice(1,4),n=o=0;2>=o;n=++o)i[n]=+i[n];i[3]=1}else if(r=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(i=r.slice(1,5),n=a=0;3>=a;n=++a)i[n]=+i[n];else if(r=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(i=r.slice(1,4),n=s=0;2>=s;n=++s)i[n]=Math.round(2.55*i[n]);i[3]=1}else if(r=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(i=r.slice(1,5),n=u=0;2>=u;n=++u)i[n]=Math.round(2.55*i[n]);i[3]=+i[3]}else(r=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(e=r.slice(1,4),e[1]*=.01,e[2]*=.01,i=b(e),i[3]=1):(r=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(e=r.slice(1,4),e[1]*=.01,e[2]*=.01,i=b(e),i[3]=+r[4]);return i},v=function(t){var e,n,r,i,o,a;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),a=parseInt(t,16),i=a>>16,r=a>>8&255,n=255&a,[i,r,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),a=parseInt(t,16),i=a>>24&255,r=a>>16&255,n=a>>8&255,e=255&a,[i,r,n,e];if(o=m(t))return o;throw"unknown color: "+t},y=function(t,e,n){var r,i,s,u;return u=L(arguments),t=u[0],e=u[1],n=u[2],t/=360,1/3>t?(r=(1-e)/3,s=(1+e*g(a*t)/g(o-a*t))/3,i=1-(r+s)):2/3>t?(t-=1/3,s=(1-e)/3,i=(1+e*g(a*t)/g(o-a*t))/3,r=1-(s+i)):(t-=2/3,i=(1-e)/3,r=(1+e*g(a*t)/g(o-a*t))/3,s=1-(i+r)),s=j(n*s*3),i=j(n*i*3),r=j(n*r*3),[255*s,255*i,255*r]},b=function(){var t,e,n,r,i,o,a,s,u,c,l,f,d,h;if(d=L(arguments),r=d[0],s=d[1],o=d[2],0===s)a=n=t=255*o;else{for(l=[0,0,0],e=[0,0,0],c=.5>o?o*(1+s):o+s-o*s,u=2*o-c,r/=360,l[0]=r+1/3,l[1]=r,l[2]=r-1/3,i=f=0;2>=f;i=++f)l[i]<0&&(l[i]+=1),l[i]>1&&(l[i]-=1),e[i]=6*l[i]<1?u+6*(c-u)*l[i]:2*l[i]<1?c:3*l[i]<2?u+(c-u)*(2/3-l[i])*6:u;h=[Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])],a=h[0],n=h[1],t=h[2]}return[a,n,t]},x=function(){var t,e,n,r,i,o,a,s,u,c,l,f,d,h,p,g,m,v;if(f=L(arguments),r=f[0],u=f[1],l=f[2],l*=255,0===u)s=n=t=l;else switch(360===r&&(r=0),r>360&&(r-=360),0>r&&(r+=360),r/=60,i=Math.floor(r),e=r-i,o=l*(1-u),a=l*(1-u*e),c=l*(1-u*(1-e)),i){case 0:d=[l,c,o],s=d[0],n=d[1],t=d[2];break;case 1:h=[a,l,o],s=h[0],n=h[1],t=h[2];break;case 2:p=[o,l,c],s=p[0],n=p[1],t=p[2];break;case 3:g=[o,a,l],s=g[0],n=g[1],t=g[2];break;case 4:m=[c,o,l],s=m[0],n=m[1],t=m[2];break;case 5:v=[l,o,a],s=v[0],n=v[1],t=v[2]}return s=Math.round(s),n=Math.round(n),t=Math.round(t),[s,n,t]},i=18,s=.95047,u=1,c=1.08883,w=function(){var t,e,n,r,i,o;return o=L(arguments),i=o[0],t=o[1],e=o[2],n=Math.sqrt(t*t+e*e),r=Math.atan2(e,t)/Math.PI*180,[i,n,r]},k=function(t,e,n){var r,i,o,a,l,f,d;return void 0!==t&&3===t.length&&(f=t,t=f[0],e=f[1],n=f[2]),void 0!==t&&3===t.length&&(d=t,t=d[0],e=d[1],n=d[2]),a=(t+16)/116,o=a+e/500,l=a-n/200,o=C(o)*s,a=C(a)*u,l=C(l)*c,i=O(3.2404542*o-1.5371385*a-.4985314*l),r=O(-.969266*o+1.8760108*a+.041556*l),n=O(.0556434*o-.2040259*a+1.0572252*l),[j(i,0,255),j(r,0,255),j(n,0,255),1]},C=function(t){return t>.206893034?t*t*t:(t-4/29)/7.787037},O=function(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))},_=function(){var t,e,n,r;return r=L(arguments),n=r[0],t=r[1],e=r[2],e=e*Math.PI/180,[n,Math.cos(e)*t,Math.sin(e)*t]},S=function(t,e,n){var r,i,o,a,s,u,c;return u=_(t,e,n),r=u[0],i=u[1],o=u[2],c=k(r,i,o),s=c[0],a=c[1],o=c[2],[j(s,0,255),j(a,0,255),j(o,0,255)]},T=function(t,e,n){var r;return r=L(arguments),t=r[0],e=r[1],n=r[2],t=M(t),e=M(e),n=M(n),.2126*t+.7152*e+.0722*n},M=function(t){return t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},A=function(){var t,e,n,r,i,o;return o=L(arguments),n=o[0],e=o[1],t=o[2],i=n<<16|e<<8|t,r="000000"+i.toString(16),"#"+r.substr(r.length-6)},N=function(){var t,e,n,r,i,o,a,s,u;return u=L(arguments),a=u[0],n=u[1],e=u[2],t=2*Math.PI,a/=255,n/=255,e/=255,o=Math.min(a,n,e),i=(a+n+e)/3,s=1-o/i,0===s?r=0:(r=(a-n+(a-e))/2,r/=Math.sqrt((a-n)*(a-n)+(a-e)*(n-e)),r=Math.acos(r),e>n&&(r=t-r),r/=t),[360*r,s,i]},E=function(t,e,n){var r,i,o,a,s,u;return void 0!==t&&t.length>=3&&(u=t,t=u[0],e=u[1],n=u[2]),t/=255,e/=255,n/=255,a=Math.min(t,e,n),o=Math.max(t,e,n),i=(o+a)/2,o===a?(s=0,r=Number.NaN):s=.5>i?(o-a)/(o+a):(o-a)/(2-o-a),t===o?r=(e-n)/(o-a):e===o?r=2+(n-t)/(o-a):n===o&&(r=4+(t-e)/(o-a)),r*=60,0>r&&(r+=360),[r,s,i]},q=function(){var t,e,n,r,i,o,a,s,u,c;return c=L(arguments),a=c[0],n=c[1],t=c[2],o=Math.min(a,n,t),i=Math.max(a,n,t),e=i-o,u=i/255,0===i?(r=Number.NaN,s=0):(s=e/i,a===i&&(r=(n-t)/e),n===i&&(r=2+(t-a)/e),t===i&&(r=4+(a-n)/e),r*=60,0>r&&(r+=360)),[r,s,u]},F=function(){var t,e,n,r,i,o,a;return a=L(arguments),n=a[0],e=a[1],t=a[2],n=D(n),e=D(e),t=D(t),r=z((.4124564*n+.3575761*e+.1804375*t)/s),i=z((.2126729*n+.7151522*e+.072175*t)/u),o=z((.0193339*n+.119192*e+.9503041*t)/c),[116*i-16,500*(r-i),200*(i-o)]},D=function(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},z=function(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29},P=function(){var t,e,n,r,i,o,a;return o=L(arguments),i=o[0],n=o[1],e=o[2],a=F(i,n,e),r=a[0],t=a[1],e=a[2],w(r,t,e)},d.scale=function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,g,m,v,y,b,x,w,k,C;return y="rgb",b=d("#ccc"),C=0,g=!1,p=[0,1],f=[],w=!1,k=[],v=0,m=1,h=!1,x=0,l={},s=function(t,e){var n,r,i,o,s,u,c;if(null==t&&(t=["#ddd","#222"]),null!=t&&"string"===B(t)&&null!=(null!=(s=d.brewer)?s[t]:void 0)&&(t=d.brewer[t]),"array"===B(t)){for(t=t.slice(0),n=i=0,u=t.length-1;u>=0?u>=i:i>=u;n=u>=0?++i:--i)r=t[n],"string"===B(r)&&(t[n]=d(r));if(null!=e)k=e;else for(k=[],n=o=0,c=t.length-1;c>=0?c>=o:o>=c;n=c>=0?++o:--o)k.push(n/(t.length-1))}return a(),f=t},u=function(t){return null==t&&(t=[]),p=t,v=t[0],m=t[t.length-1],a(),x=2===t.length?0:t.length-1},i=function(t){var e,n;if(null!=p){for(n=p.length-1,e=0;n>e&&t>=p[e];)e++;return e-1}return 0},c=function(t){return t},n=function(t){var e,n,r,o,a;return a=t,p.length>2&&(o=p.length-1,e=i(t),r=p[0]+(p[1]-p[0])*(0+.5*C),n=p[o-1]+(p[o]-p[o-1])*(1-.5*C),a=v+(p[e]+.5*(p[e+1]-p[e])-r)/(n-r)*(m-v)),a},o=function(t,e){var n,r,o,a,s,u,h,g,w;if(null==e&&(e=!1),isNaN(t))return b;if(e?h=t:p.length>2?(n=i(t),h=n/(x-1)):(h=o=v!==m?(t-v)/(m-v):0,h=o=(t-v)/(m-v),h=Math.min(1,Math.max(0,h))),e||(h=c(h)),s=Math.floor(1e4*h),l[s])r=l[s];else{if("array"===B(f))for(a=g=0,w=k.length-1;w>=0?w>=g:g>=w;a=w>=0?++g:--g){if(u=k[a],u>=h){r=f[a];break}if(h>=u&&a===k.length-1){r=f[a];break}if(h>u&&h<k[a+1]){h=(h-u)/(k[a+1]-u),r=d.interpolate(f[a],f[a+1],h,y);break}}else"function"===B(f)&&(r=f(h));l[s]=r}return r},a=function(){return l={}},s(t,e),r=function(t){var e;return e=o(t),w&&e[w]?e[w]():e},r.domain=function(t,e,n,i){var o;return null==n&&(n="e"),arguments.length?(null!=e&&(o=d.analyze(t,i),t=0===e?[o.min,o.max]:d.limits(o,n,e)),u(t),r):p},r.mode=function(t){return arguments.length?(y=t,a(),r):y},r.range=function(t,e){return s(t,e),r},r.out=function(t){return w=t,r},r.spread=function(t){return arguments.length?(C=t,r):C},r.correctLightness=function(t){return arguments.length?(h=t,a(),c=h?function(t){var e,n,r,i,a,s,u,c,l;for(e=o(0,!0).lab()[0],n=o(1,!0).lab()[0],u=e>n,r=o(t,!0).lab()[0],a=e+(n-e)*t,i=r-a,c=0,l=1,s=20;Math.abs(i)>.01&&s-->0;)!function(){return u&&(i*=-1),0>i?(c=t,t+=.5*(l-t)):(l=t,t+=.5*(c-t)),r=o(t,!0).lab()[0],i=r-a}();return t}:function(t){return t},r):h},r.colors=function(e){var n,i,o,a,s,u;if(null==e&&(e="hex"),t=[],i=[],p.length>2)for(n=o=1,u=p.length;u>=1?u>o:o>u;n=u>=1?++o:--o)i.push(.5*(p[n-1]+p[n]));else i=p;for(a=0,s=i.length;s>a;a++)n=i[a],t.push(r(n)[e]());return t},r},null==(U=d.scales)&&(d.scales={}),d.scales.cool=function(){return d.scale([d.hsl(180,1,.9),d.hsl(250,.7,.4)])},d.scales.hot=function(){return d.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},d.analyze=function(t,e,n){var r,i,o,a,s,u,c;if(o={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(o.values.push(t),o.sum+=t,t<o.min&&(o.min=t),t>o.max&&(o.max=t),o.count+=1)},s=function(t,i){return n(t,i)?r(null!=e&&"function"===B(e)?e(t):null!=e&&"string"===B(e)||"number"===B(e)?t[e]:t):void 0},"array"===B(t))for(u=0,c=t.length;c>u;u++)a=t[u],s(a);else for(i in t)a=t[i],s(a,i);return o.domain=[o.min,o.max],o.limits=function(t,e){return d.limits(o,t,e)},o},d.limits=function(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,g,m,v,y,b,x,w,k,C,_,S,j,T,M,A,N,E,q,F,P,D,R,L,z,O,U,I,H,$,G,Y,X,W,V,Q,J,Z,K,tt,et,nt,rt,it,ot,at;if(null==e&&(e="equal"),null==n&&(n=7),"array"===B(t)&&(t=d.analyze(t)),m=t.min,p=t.max,j=t.sum,A=t.values.sort(function(t,e){return t-e}),h=[],"c"===e.substr(0,1)&&(h.push(m),h.push(p)),"e"===e.substr(0,1)){for(h.push(m),c=N=1,U=n-1;U>=1?U>=N:N>=U;c=U>=1?++N:--N)h.push(m+c/n*(p-m));h.push(p)}else if("l"===e.substr(0,1)){if(0>=m)throw"Logarithmic scales are only possible for values > 0";for(v=Math.LOG10E*Math.log(m),g=Math.LOG10E*Math.log(p),h.push(m),c=E=1,W=n-1;W>=1?W>=E:E>=W;c=W>=1?++E:--E)h.push(Math.pow(10,v+c/n*(g-v)));h.push(p)}else if("q"===e.substr(0,1)){for(h.push(m),c=q=1,V=n-1;V>=1?V>=q:q>=V;c=V>=1?++q:--q)k=A.length*c/n,C=Math.floor(k),C===k?h.push(A[C]):(_=k-C,h.push(A[C]*_+A[C+1]*(1-_)));h.push(p)}else if("k"===e.substr(0,1)){for(b=A.length,r=new Array(b),s=new Array(n),S=!0,x=0,o=null,o=[],o.push(m),c=F=1,Q=n-1;Q>=1?Q>=F:F>=Q;c=Q>=1?++F:--F)o.push(m+c/n*(p-m));for(o.push(p);S;){for(l=P=0,J=n-1;J>=0?J>=P:P>=J;l=J>=0?++P:--P)s[l]=0;for(c=D=0,Z=b-1;Z>=0?Z>=D:D>=Z;c=Z>=0?++D:--D){for(M=A[c],y=Number.MAX_VALUE,l=R=0,K=n-1;K>=0?K>=R:R>=K;l=K>=0?++R:--R)u=Math.abs(o[l]-M),y>u&&(y=u,i=l);s[i]++,r[c]=i}for(w=new Array(n),l=L=0,tt=n-1;tt>=0?tt>=L:L>=tt;l=tt>=0?++L:--L)w[l]=null;for(c=z=0,et=b-1;et>=0?et>=z:z>=et;c=et>=0?++z:--z)a=r[c],null===w[a]?w[a]=A[c]:w[a]+=A[c];for(l=O=0,I=n-1;I>=0?I>=O:O>=I;l=I>=0?++O:--O)w[l]*=1/s[l];for(S=!1,l=nt=0,H=n-1;H>=0?H>=nt:nt>=H;l=H>=0?++nt:--nt)if(w[l]!==o[c]){S=!0;break}o=w,x++,x>200&&(S=!1)}for(f={},l=rt=0,$=n-1;$>=0?$>=rt:rt>=$;l=$>=0?++rt:--rt)f[l]=[];for(c=it=0,G=b-1;G>=0?G>=it:it>=G;c=G>=0?++it:--it)a=r[c],f[a].push(A[c]);for(T=[],l=ot=0,Y=n-1;Y>=0?Y>=ot:ot>=Y;l=Y>=0?++ot:--ot)T.push(f[l][0]),T.push(f[l][f[l].length-1]);for(T=T.sort(function(t,e){return t-e}),h.push(T[0]),c=at=1,X=T.length-1;X>=at;c=at+=2)isNaN(T[c])||h.push(T[c])}return h},d.brewer=f={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},d.colors=p={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},B=function(){var t,e,n,r,i;for(t={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),n=0,r=i.length;r>n;n++)e=i[n],t["[object "+e+"]"]=e.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),j=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),e>t&&(t=e),t>n&&(t=n),t},L=function(t){return t.length>=3?t:t[0]},a=2*Math.PI,o=Math.PI/3,g=Math.cos,l=function(t){var e,n,r,i,o,a,s,u,c,f,h;return t=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(d(i));return r}(),2===t.length?(c=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(i.lab());return r}(),o=c[0],a=c[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push(o[e]+t*(a[e]-o[e]));return r}(),d.lab.apply(d,n)}):3===t.length?(f=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(i.lab());return r}(),o=f[0],a=f[1],s=f[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]);return r}(),d.lab.apply(d,n)}):4===t.length?(h=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(i.lab());return r}(),o=h[0],a=h[1],s=h[2],u=h[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]);return r}(),d.lab.apply(d,n)}):5===t.length&&(n=l(t.slice(0,3)),r=l(t.slice(2,5)),e=function(t){return.5>t?n(2*t):r(2*(t-.5))}),e},d.interpolate.bezier=l}).call(this)},{}],"/Users/qrohlf/Code/trianglify/node_modules/delaunay-fast/delaunay.js":[function(t,e){
var n;!function(){"use strict";function t(t){var e,n,r,i,o,a,s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(e=t.length;e--;)t[e][0]<s&&(s=t[e][0]),t[e][0]>c&&(c=t[e][0]),t[e][1]<u&&(u=t[e][1]),t[e][1]>l&&(l=t[e][1]);return n=c-s,r=l-u,i=Math.max(n,r),o=s+.5*n,a=u+.5*r,[[o-20*i,a-i],[o,a+20*i],[o+20*i,a-i]]}function r(t,e,n,r){var i,a,s,u,c,l,f,d,h,p,g=t[e][0],m=t[e][1],v=t[n][0],y=t[n][1],b=t[r][0],x=t[r][1],w=Math.abs(m-y),k=Math.abs(y-x);if(o>w&&o>k)throw new Error("Eek! Coincident points!");return o>w?(u=-((b-v)/(x-y)),l=(v+b)/2,d=(y+x)/2,i=(v+g)/2,a=u*(i-l)+d):o>k?(s=-((v-g)/(y-m)),c=(g+v)/2,f=(m+y)/2,i=(b+v)/2,a=s*(i-c)+f):(s=-((v-g)/(y-m)),u=-((b-v)/(x-y)),c=(g+v)/2,l=(v+b)/2,f=(m+y)/2,d=(y+x)/2,i=(s*c-u*l+d-f)/(s-u),a=w>k?s*(i-c)+f:u*(i-l)+d),h=v-i,p=y-a,{i:e,j:n,k:r,x:i,y:a,r:h*h+p*p}}function i(t){var e,n,r,i,o,a;for(n=t.length;n;)for(i=t[--n],r=t[--n],e=n;e;)if(a=t[--e],o=t[--e],r===o&&i===a||r===a&&i===o){t.splice(n,2),t.splice(e,2);break}}var o=1/1048576;n={triangulate:function(e,n){var a,s,u,c,l,f,d,h,p,g,m,v,y=e.length;if(3>y)return[];if(e=e.slice(0),n)for(a=y;a--;)e[a]=e[a][n];for(u=new Array(y),a=y;a--;)u[a]=a;for(u.sort(function(t,n){return e[n][0]-e[t][0]}),c=t(e),e.push(c[0],c[1],c[2]),l=[r(e,y+0,y+1,y+2)],f=[],d=[],a=u.length;a--;d.length=0){for(v=u[a],s=l.length;s--;)h=e[v][0]-l[s].x,h>0&&h*h>l[s].r?(f.push(l[s]),l.splice(s,1)):(p=e[v][1]-l[s].y,h*h+p*p-l[s].r>o||(d.push(l[s].i,l[s].j,l[s].j,l[s].k,l[s].k,l[s].i),l.splice(s,1)));for(i(d),s=d.length;s;)m=d[--s],g=d[--s],l.push(r(e,g,m,v))}for(a=l.length;a--;)f.push(l[a]);for(l.length=0,a=f.length;a--;)f[a].i<y&&f[a].j<y&&f[a].k<y&&l.push(f[a].i,f[a].j,f[a].k);return l},contains:function(t,e){if(e[0]<t[0][0]&&e[0]<t[1][0]&&e[0]<t[2][0]||e[0]>t[0][0]&&e[0]>t[1][0]&&e[0]>t[2][0]||e[1]<t[0][1]&&e[1]<t[1][1]&&e[1]<t[2][1]||e[1]>t[0][1]&&e[1]>t[1][1]&&e[1]>t[2][1])return null;var n=t[1][0]-t[0][0],r=t[2][0]-t[0][0],i=t[1][1]-t[0][1],o=t[2][1]-t[0][1],a=n*o-r*i;if(0===a)return null;var s=(o*(e[0]-t[0][0])-r*(e[1]-t[0][1]))/a,u=(n*(e[1]-t[0][1])-i*(e[0]-t[0][0]))/a;return 0>s||0>u||s+u>1?null:[s,u]}},"undefined"!=typeof e&&(e.exports=n)}()},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/index.js":[function(t,e){var n=t("./lib/alea"),r=t("./lib/xor128"),i=t("./lib/xorwow"),o=t("./lib/xorshift7"),a=t("./lib/xor4096"),s=t("./lib/tychei"),u=t("./seedrandom");u.alea=n,u.xor128=r,u.xorwow=i,u.xorshift7=o,u.xor4096=a,u.tychei=s,e.exports=u},{"./lib/alea":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/alea.js","./lib/tychei":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/tychei.js","./lib/xor128":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor128.js","./lib/xor4096":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor4096.js","./lib/xorshift7":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorshift7.js","./lib/xorwow":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorwow.js","./seedrandom":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/seedrandom.js"}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/alea.js":[function(e,n){!function(t,e,n){function r(t){var e=this,n=a();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new r(t),o=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a["double"]=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}function a(){var t=4022871197,e=function(e){e=e.toString();for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return 2.3283064365386963e-10*(t>>>0)};return e}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.alea=o}(this,"object"==typeof n&&n,"function"==typeof t&&t)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/tychei.js":[function(e,n){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o}(this,"object"==typeof n&&n,"function"==typeof t&&t)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor128.js":[function(e,n){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o}(this,"object"==typeof n&&n,"function"==typeof t&&t)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor4096.js":[function(e,n){!function(t,e,n){function r(t){function e(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\x00",r=0,u=Math.max(u,e.length)),i=0,o=-32;u>o;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,n=s[127&o]^=r+a,i=0==n?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}var n=this;n.next=function(){var t,e,r=n.w,i=n.X,o=n.i;return n.w=r=r+1640531527|0,e=i[o+34&127],t=i[o=o+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=i[o]=e^t,n.i=o,e+(r^r>>>16)|0},e(n,t)}function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},a.int32=n.next,a.quick=a,o&&(o.X&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o}(this,"object"==typeof n&&n,"function"==typeof t&&t)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorshift7.js":[function(e,n){!function(t,e,n){function r(t){function e(t,e){var n,r,i=[];if(e===(0|e))r=i[0]=e;else for(e=""+e,n=0;n<e.length;++n)i[7&n]=i[7&n]<<15^e.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;8>n&&0===i[n];++n);for(r=8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}var n=this;n.next=function(){var t,e,r=n.x,i=n.i;return t=r[i],t^=t>>>7,e=t^t<<24,t=r[i+1&7],e^=t^t>>>10,t=r[i+3&7],e^=t^t>>>3,t=r[i+4&7],e^=t^t<<7,t=r[i+7&7],t^=t<<13,e^=t^t<<9,r[i]=e,n.i=i+1&7,e},e(n,t)}function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},a.int32=n.next,a.quick=a,o&&(o.x&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o}(this,"object"==typeof n&&n,"function"==typeof t&&t)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorwow.js":[function(e,n){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o}(this,"object"==typeof n&&n,"function"==typeof t&&t)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/seedrandom.js":[function(e,n){!function(r,i){function o(t,e,n){var o=[];e=1==e?{entropy:!0}:e||{};var d=c(u(e.entropy?[t,f(r)]:null==t?l():t,3),o),h=new a(o),m=function(){for(var t=h.g(g),e=y,n=0;b>t;)t=(t+n)*p,e*=p,n=h.g(1);for(;t>=x;)t/=2,e/=2,n>>>=1;return(t+n)/e};return m.int32=function(){return 0|h.g(4)},m.quick=function(){return h.g(4)/4294967296},m["double"]=m,c(f(h.S),r),(e.pass||n||function(t,e,n,r){return r&&(r.S&&s(r,h),t.state=function(){return s(h,{})}),n?(i[v]=t,e):t})(m,d,"global"in e?e.global:this==i,e.state)}function a(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);p>i;)a[i]=i++;for(i=0;p>i;i++)a[i]=a[o=w&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=w&i+1],n=n*p+a[w&(a[i]=a[o=w&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(p)}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(u(t[n],e-1))}catch(o){}return r.length?r:"string"==i?t:t+"\x00"}function c(t,e){for(var n,r=t+"",i=0;i<r.length;)e[w&i]=w&(n^=19*e[w&i])+r.charCodeAt(i++);return f(e)}function l(){try{if(d)return f(d.randomBytes(p));var t=new Uint8Array(p);return(h.crypto||h.msCrypto).getRandomValues(t),f(t)}catch(e){var n=h.navigator,i=n&&n.plugins;return[+new Date,h,i,h.screen,f(r)]}}function f(t){return String.fromCharCode.apply(0,t)}var d,h=this,p=256,g=6,m=52,v="random",y=i.pow(p,g),b=i.pow(2,m),x=2*b,w=p-1;if(i["seed"+v]=o,c(i.random(),r),"object"==typeof n&&n.exports){n.exports=o;try{d=e("crypto")}catch(k){}}else"function"==typeof t&&t.amd&&t(function(){return o})}([],Math)},{crypto:!1}]},{},["./lib/trianglify.js"])("./lib/trianglify.js")}),function(){$(function(){var t,e;return e=function(){return"hsl(187,"+(Math.floor(61*Math.random())+40)+"%,50%)"},t=Trianglify({height:window.innerHeight,width:window.innerWidth,cell_size:150+50*Math.random(),color_function:e}),$(".js-trianglify").append(t.canvas())})}.call(this);